### **Проект: GenData**

**Концепция:** Веб-платформа с двумя интерфейсами:  
1\. **Административная панель:** Место силы для менеджеров Arenadata. Здесь происходит управление пользователями, создание и кастомизация опросов в конструкторе, назначение опросов целевым группам, а также глубокий анализ полученных данных с помощью интерактивных дашбордов.  
2\. **Клиентский портал:** Чистый и сфокусированный интерфейс для клиентов, сотрудников и инвесторов. Пользователь входит в систему и видит только те опросы, которые предназначены ему.  
**Технологический стек (рекомендация):**  
\* **Бэкенд:** Python / FastAPI  
\* **База данных:** PostgreSQL  
\* **Фронтенд:** React / Vue.js  
**Модель данных (уточненная):**  
\* users: id, login, hashed\_password, full\_name, company\_name, role (ENUM: ‘client’, ‘employee’, ‘investor’), metadata (JSONB для любых доп. полей из вашей БД).  
\* forms: id, title, description, is\_template (BOOLEAN), target\_role (ENUM, для шаблонов).  
\* questions: id, form\_id, text, type (ENUM: ‘text’, ‘single-choice’, ‘multi-choice’, ‘scale-10’, ‘nps’), options (JSONB).  
\* submissions (результаты): id, form\_id, user\_id, submitted\_at, status (ENUM: ‘completed’, ‘negative\_flagged’).  
\* answers: id, submission\_id, question\_id, value.  
\* complaints: id, source\_submission\_id, user\_id, details (TEXT), status (ENUM: ‘new’, ‘in\_progress’, ‘resolved’).  
---

### **Поэтапный план реализации проекта GenData**

Вот последовательность шагов от “пустой папки” до работающей, умной платформы.

#### **Этап 1: Фундамент и Ядро (Core Backend & Data Model)**

**Цель:** Создать работающий бэкенд, который “знает” о наших сущностях и умеет аутентифицировать пользователей. Пока без красивого интерфейса.

1. **Настройка окружения:**

   * Создаем репозиторий git init.  
   * Настраиваем Python, FastAPI, подключаем PostgreSQL.  
   * Проектируем и создаем таблицы в БД с помощью Alembic (как описано выше). Это ваш “скелет”.  
2. **Реализация аутентификации:**

   * Пишем эндпоинт POST /auth/token для входа по логину и паролю. Он должен проверять данные в таблице users и возвращать JWT-токен.  
   * Создаем механизм защиты эндпоинтов, который требует наличия валидного токена.  
3. **Управление пользователями (базовое):**

   * Создаем CRUD-эндпоинты для администратора (/admin/users).  
   * Основное внимание уделяем эндпоинту POST /admin/users/import. Он будет принимать CSV/XLSX файл, парсить его и массово добавлять/обновлять пользователей в таблице users. Это ключевая фича “подгрузки вашей БД”. Пароли для новых пользователей можно генерировать и временно сохранять или предусмотреть механизм их первой установки.  
4. **Создание пользователей вручную:** Администратор должен иметь возможность создать одного-двух пользователей через админ-интерфейс, не прибегая к импорту файла.

**Результат этапа:** У вас есть работающий API. Вы можете программно (например, через Postman) добавить пользователей из файла, залогиниться от имени одного из них и получить токен.  
---

#### **Этап 2: Мастерская Админа (Form Builder & Assignment)**

**Цель:** Дать администратору возможность создавать и настраивать опросы, а затем назначать их конкретным пользователям.

1. **Разработка Конструктора Форм (Бэкенд):**

   * Создаем полный набор CRUD-эндпоинтов для forms и questions.  
   * POST /admin/forms \- создать новую форму.  
   * POST /admin/forms/{form\_id}/questions \- добавить вопрос в форму.  
   * PUT /admin/questions/{question\_id} \- отредактировать вопрос (текст, тип, варианты ответов).  
2. **Разработка Конструктора Форм (Фронтенд):**

   * Это самая креативная часть. Создаем интерактивный UI, где админ может:

     * Создать новую форму, дать ей название и описание.  
     * Перетаскивать (drag-and-drop) типы вопросов из панели в рабочую область формы.  
     * **Современные типы вопросов** [zenkit.com](https://zenkit.com/ru/forms/features):

       * **Текст:** простое и многострочное поле.  
       * **Выбор одного/нескольких:** классические radio/checkbox [foquz.online](https://foquz.online/).  
       * **Шкала:** от 1 до 10 для оценки.  
       * **NPS (Net Promoter Score):** “Какова вероятность, что вы порекомендуете нас…?” со шкалой 0-10, которая автоматически делит респондентов на “критиков”, “нейтралов” и “промоутеров”.  
       * **Матрица/Таблица:** Оценить несколько параметров по одной шкале (например, скорость, качество, цена).  
       * **Логическое ветвление:** Показывать вопрос B только если в вопросе A был выбран вариант “Да”.  
     * Сохранять формы как шаблоны (is\_template \= true) для категорий “client” или “employee”.  
3. **Механизм назначения опросов:**

   * В интерфейсе админки создаем раздел “Рассылки”.  
   * Админ выбирает форму, затем выбирает пользователей: “Все клиенты”, “Все сотрудники”, или выбирает конкретных людей галочками из списка.  
   * Нажатие кнопки “Назначить” создает записи в связующей таблице form\_assignments.

**Результат этапа:** Администратор может зайти в систему, создать красивый опрос с разными типами вопросов, выбрать группу “Клиенты” и назначить им этот опрос.  
---

#### **Этап 3: Клиентский Опыт (Survey Taking)**

**Цель:** Позволить целевому пользователю пройти назначенный ему опрос и сохранить его ответы.

1. **Клиентский портал (Фронтенд):**

   * Создаем страницу входа (/login).  
   * После входа, пользователь попадает на дашборд (/mysurveys), где видит список назначенных ему опросов с вводным текстом из поля form.description.  
   * Кликнув на опрос, он попадает на страницу прохождения.  
2. **Рендеринг и прохождение опроса:**

   * Интерфейс динамически строит страницу на основе структуры формы и вопросов, полученных с бэкенда.  
   * Пользователь отвечает на вопросы.  
   * Кнопка “Отправить” собирает все ответы и отправляет их на эндпоинт POST /surveys/{form\_id}/submit.  
3. **Сохранение результатов (Бэкенд):**

   * Эндпоинт /submit принимает ответы, валидирует их и сохраняет в таблицы submissions и answers.

**Результат этапа:** Полностью рабочий цикл. Админ создает и назначает опрос, клиент заходит, проходит его, и результаты надежно сохраняются в базе данных.  
---

#### **Этап 4: Движок Инсайтов (Analytics Dashboard)**

**Цель:** Превратить сырые данные в понятную и полезную аналитику для принятия решений. Это поможет повысить CSAT и лояльность, как упоминается в источниках [respond.io](https://respond.io/ru/surveys).

1. **Дашборд Аналитики (Фронтенд):**

   * Создаем в админ-панели новый раздел “Аналитика”.  
   * Наверху — общие виджеты: количество пройденных опросов, средний балл NPS, и т.д.  
2. **Реализация детализированного просмотра:**

   * Пользователь выбирает опрос для анализа.  
   * **Общая сводка:** Система показывает агрегированные данные в виде графиков:

     * Круговые диаграммы для вопросов с выбором.  
     * Гистограммы для шкальных оценок и NPS.  
   * **Таблица ответов:** Ниже выводится таблица со всеми индивидуальными ответами.  
3. **Кнопки-фильтры (самое важное здесь):**

   * Реализуем мощную систему фильтрации на бэкенде (GET /analytics/responses?role=client\&from\_date=...) и фронтенде:

     * **Фильтр по группам/подгруппам:** role \= 'client' или role \= 'employee'.  
     * **Убираем “ненужных” и “неинформативных”:** Добавляем фильтр по company\_name или фильтр, который скрывает ответы короче N символов.  
     * **Фильтр по дате** прохождения.  
4. **Экспорт данных:**

   * Рядом с фильтрами размещаем кнопки:

     * Экспорт отчета (PDF): Генерирует красивый отчет с текущими графиками и сводкой.  
     * Экспорт данных (CSV): Выгружает сырые, отфильтрованные данные для дальнейшего анализа в Excel/Google Sheets, как предлагают многие конструкторы [questionstar.ru](https://questionstar.ru/).

**Результат этапа:** Админ не просто видит, что опрос пройден, а может за 5 минут понять, какие клиенты недовольны, какой аспект услуги проседает, и выгрузить эти данные для презентации.  
---

#### **Этап 5: Автоматизация и ИИ (Intelligence Layer)**

**Цель:** Сделать систему проактивной, чтобы она сама обращала внимание админа на проблемы и помогала в рутинных задачах.

1. **Автоматический анализ негатива:**

   * При сохранении ответа (на бэкенде, в POST /.../submit), запускаем фоновую задачу.  
   * Эта задача проверяет текстовые ответы на наличие ключевых слов (“проблема”, “ошибка”, “медленно”, “не работает”) и низкие оценки (1-3 из 10).  
   * **Если негатив найден:**

     * В таблице submissions проставляется status \= 'negative\_flagged'.  
     * **Если все данные для жалобы есть** (пользователь подробно описал проблему), система автоматически копирует данные в таблицу complaints.  
     * Система отправляет уведомление ответственному менеджеру (по email или через API мессенджера).  
2. **Специальный дашборд “Проблемы”:**

   * В админ-панели создаем отдельную вкладку “Жалобы и негатив”, которая показывает только записи из complaints и submissions со статусом negative\_flagged.  
   * Отсюда менеджер может связаться с клиентом для решения проблемы.  
3. **Генерация отзыва:**

   * В интерфейсе просмотра *положительного* ответа появляется кнопка “Сгенерировать черновик отзыва”.  
   * При нажатии, бэкенд-эндпоинт POST /analytics/generate-review берет данные пользователя (user.full\_name, user.company\_name) и его ответы (“оценка 10⁄10”, “понравилась скорость”) и формирует текст вида: Иван Иванов (ТОО "Ромашка") высоко оценил нашу работу. Особенно была отмечена скорость реакции поддержки (10/10). Рекомендуем к публикации.  
4. **Кнопка “Сообщить об ошибке”:**

   * Добавляем в админ-панель плавающую кнопку, которая открывает простую форму и отправляет данные на эндпоинт POST /support/ticket.

**Финальный результат:** Вы получаете не просто конструктор опросов, а полноценную систему управления клиентским опытом, которая автоматизирует сбор данных, помогает быстро находить инсайты, реагировать на негатив и даже помогает с маркетинговыми задачами. Вы можете начать с Этапа 1 и постепенно двигаться дальше, и на каждом шаге у вас будет работающий и полезный продукт. Удачи в разработке **GenData**  
